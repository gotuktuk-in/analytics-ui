<style>
    .search-btn-trip {
        position: fixed;
        right: 9px;
        top: 12px;
        z-index: 91;
    }

    div.daterangepicker-leaderboard-box .daterangepicker_end_input,
    div.daterangepicker-leaderboard-box .calendar.second.right {
        display: none;
    }
</style>
<div class="search-btn-trip">
    <form class="form-inline">
        <div class="form-group">
            <div style="max-height: 34px; overflow: hidden;">
                <a
                        ui-sref="home.drivers_search({city: city,vehicleType: vehicleType, filterURL: 'joined', term: dateURL})"
                        class="btn btn-default">
                    <i class="fa fa-search" aria-hidden="true"></i>
                </a>
                <a class="btn btn-default" href="#/home/drivers/onboarding/indore/auto"><i class="fa fa-plus"
                                                                                           aria-hidden="true"></i></a>
            </div>
        </div>
    </form>
</div>
<div class="container-fluid">
    <br>
    <br>
    <br>
    <br>

    <div class="row overview-box">
        <div class="col-md-12 col-sm-12 col-xs-12 text-center">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="col-md-2 col-sm-4 col-xs-12 no-mr no-pd">
                        <div class="box box-heading box-1 text-center">
                            <h4 class="title">DRIVERS</h4>

                        </div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6">
                        <div class="box">
                            <h4 class="number">{{ vm.overview.driver.total_drivers}}</h4>
                            <span>Total</span>
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6">
                        <div class="box">
                            <h4 class="number">{{vm.overview.driver.free_drivers}}</h4>
                            <span>Free</span>
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6">
                        <div class="box">
                            <h4 class="number">{{vm.overview.driver.occupied_drivers}}</h4>
                            <span>Occupied</span>
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6">
                        <div class="box">
                            <h4 class="number">{{vm.overview.driver.online_drivers_percentage | number:2}}%</h4>
                            <span>Online</span>
                        </div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6">
                        <div class="box">
                            <h4 class="number">{{vm.overview.driver.utilization_percentage | number:2}}%</h4>
                            <span>Utilization</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="pull-right">
                        <input ng-change="vm.getAcquisition()"
                               class="form-control cstm-width text-center daterangepicker-aqq-chart" type="daterange"
                               ng-model="datesForAcq" separator=" - " format="DD MMM YY" opens="left"
                               ranges="vm.ranges">
                    </div>
                    <h4 style="margin-top: 0" class="title">Driver Acquisition</h4>

                </div>

                <div class="panel-body">
                    <div>
                        <nvd3 options="vm.acquisitionChart" data="vm.acquisitionData" config="vm.config"></nvd3>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <form class="form-inline pull-right no-mr pd-2-">
                    <div class="form-group ">
                        <input
                                ng-change="vm.getSupply()"
                                class="form-control text-center"
                                type="daterange"
                                ng-model="driverSupplyDates"
                                separator=" - "
                                format="DD MMM YY"
                                opens="left"
                                ranges="vm.ranges"
                                style="margin: 8px 10px 0px 0px !important;
                                        padding: 0px;
                                        height: 20px;
                                        width: auto; font-size: 11px;">
                    </div>
                </form>
                <div class="panel-heading">

                    <h4 style="margin-top: 0" class="title">SUPPLY HOURS</h4></div>
                <div class="panel-body">
                    <nvd3 options="vm.supplyChartOptions" data="vm.supply" config="vm.config"></nvd3>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="pull-right daterangepicker-leaderboard-box">
                        <input name="birthdate" ng-change="vm.getLeaderboard()"
                               class="form-control cstm-width text-center daterangepicker-leaderboard" type="daterange"
                               ng-model="datesForLeaderboard" separator=" - " format="DD MMM YY" limit="0" opens="left">
                    </div>
                    <h4 style="margin-top: 0" class="title">Leaderboard</h4></div>
                <div class="panel-body">
                    <div class="alert alert-warning fade in" ng-show="vm.dataCount<3">
                        <strong>oops!</strong> no result found.
                    </div>
                    <div class="row" ng-show="vm.dataCount>2">
                        <div class="col-md-4 col-sm-6 col-xs-12">
                            <h4>Max Trips</h4>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped text-center no-mr">
                                    <thead>
                                    <tr>
                                        <th class="text-left">Name</th>
                                        <th class="text-right" width="100">Trips</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="row in vm.leaderboradData.trip.maxTrip">
                                        <td class="text-left">
                                            <a target="_blank"
                                               ui-sref="home.drivers_detail({driverId:row.driver_id})">
                                                {{row.dr}}
                                            </a>
                                        </td>
                                        <td class="text-right">
                                            {{row.tc}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6 col-xs-12">
                            <h4>Largest Cancelled Trips</h4>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped text-center">
                                    <thead>
                                    <tr>
                                        <th class="text-left">Name</th>
                                        <th class="text-right"  width="100">Cancel / Total</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="row in vm.leaderboradData.trip.largestCan">
                                        <td class="text-left">
                                            <a target="_blank"
                                               ui-sref="home.drivers_detail({driverId:row.driver_id})">
                                                {{row.dr}}
                                            </a>
                                        </td>
                                        <td class="text-right">
                                            {{row.tc}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6 col-xs-12">
                            <h4>Longest Trip</h4>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped text-center">
                                    <thead>
                                    <tr>
                                        <th class="text-left">Name</th>
                                        <th class="text-right" width="100">KM</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="row in vm.leaderboradData.trip.longestTrip">
                                        <td class="text-left">
                                            <a target="_blank"
                                               ui-sref="home.drivers_detail({driverId:row.driver_id})">
                                                {{row.dr}}
                                            </a>
                                        </td>
                                        <td class="text-right">
                                            {{row.td}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6 col-xs-12">
                            <h4>Longest For Trip</h4>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped text-center">
                                    <thead>
                                    <tr>
                                        <th class="text-left">Name</th>
                                        <th class="text-right" width="100">KM</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="row in vm.leaderboradData.trip.longestForTrip">
                                        <td class="text-left">
                                            <a target="_blank"
                                               ui-sref="home.drivers_detail({driverId:row.driver_id})">
                                                {{row.dr}}
                                            </a>
                                        </td>
                                        <td class="text-right">
                                            {{row.td}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6 col-xs-12">
                            <h4>Max Hour</h4>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped text-center">
                                    <thead>
                                    <tr>
                                        <th class="text-left">Name</th>
                                        <th class="text-right" width="100">Hours</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="row in vm.leaderboradData.availability.maxHour">
                                        <td class="text-left">
                                            <a target="_blank"
                                               ui-sref="home.drivers_detail({driverId:row.driver_id})">
                                                {{row.dr}}
                                            </a>
                                        </td>
                                        <td class="text-right">
                                            {{row.hc}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6 col-xs-12">
                            <h4>Max Utilization</h4>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped text-center no-mr">
                                    <thead>
                                    <tr>
                                        <th class="text-left">Name</th>
                                        <th class="text-right" width="100">Hours</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="row in vm.leaderboradData.availability.maxUtilization">
                                        <td class="text-left">
                                            <a target="_blank"
                                               ui-sref="home.drivers_detail({driverId:row.driver_id})">
                                                {{row.dr}}
                                            </a>
                                        </td>
                                        <td class="text-right">
                                            {{row.tc}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6 col-xs-12">
                            <h4>Income</h4>
                            <div class="table-responsive">
                                <table class="table table-bordered table-striped text-center no-mr">
                                    <thead>
                                    <tr>
                                        <th class="text-left">Name</th>
                                        <th class="text-right" width="100">Income</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="row in vm.leaderboradData.income.topEarner">
                                        <td class="text-left">
                                            <a target="_blank"
                                               ui-sref="home.drivers_detail({driverId:row.driver_id})">
                                                {{row.dr}}
                                            </a>
                                        </td>
                                        <td class="text-right">
                                            {{row.tc}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>