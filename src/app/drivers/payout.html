<style>
    body {
        background: #fff !important;
    }
</style>
<div class="container-fluid">
    <div class="row" style="z-index:99; position:fixed; width:auto; padding:10px 0; left:53px;">
        <div class="col-md-12 col-sm-12 col-xs-12">
            <span ng-click="vm.changeDate('prev')" style="display: inline-block; padding: 7px;">&#10094;</span>
            <span class="text-center" ng-model="date"
                  style="display: inline-block; padding: 7px 0;">{{vm.formattedStartWeekDs}} - {{vm.formattedEndWeekDs}}</span> <span
                ng-click="vm.changeDate('next')" ng-if="!vm.live"
                style="display: inline-block; padding: 7px;">&#10095;</span>
        </div>
    </div>
    <br>
    <br>
    <br>
    <br>

    <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
            <!--<a href="" data-toggle="tooltip" ng-if="publishAllBtn"-->
               <!--tooltip="Publish All"-->
               <!--tooltip-placement="top" class="btn btn-default btn-xs pull-right"-->
               <!--ng-click="removeAllChecked($index);">-->
                <!--<i class="fa fa-remove" aria-hidden="true"></i> Clear All </a>-->
            <a href="" data-toggle="tooltip" ng-if="publishAllBtn"
                     tooltip="Publish All"
                     tooltip-placement="top" class="btn btn-default btn-xs pull-right mr-rt-5"
                     ng-click="confirmPublish();">
                <i class="fa fa-share" aria-hidden="true"></i> Publish All </a>

            <h4> &nbsp; &nbsp;DRIVER PAYOUT</h4>
        </div>
        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="table-responsive" style="max-height: 800px;">
                <table ng-table="payoutTableParams"
                       class="table table-bordered table-striped text-center">
                    <tbody>
                    <tr ng-repeat="row in data track by $index">
                        <td data-title="'ID'" class="text-left">
                            {{row.driver}}
                        </td>
                        <td data-title="'Name'" class="text-left">
                            {{row.name}}
                        </td>
                        <td data-title="'Trip Count'" class="text-center">
                            {{row.tripCount}}
                        </td>
                        <td data-title="'Trip Earning'" class="text-right">
                            {{row.tripEarning | number:2}}
                        </td>
                        <td data-title="'Cash Collected'" class="text-right">
                            {{row.cashCollected | number:2}}
                        </td>
                        <td data-title="'Trip Tuktuk Commission'" class="text-right">
                            {{row.tripTuktukCommission | number:2}}
                        </td>
                        <td data-title="'Bonus Earning'" class="text-right">
                            {{row.bonusEarning | number:2}}
                        </td>
                        <td data-title="'Bonus Tuktuk Commission'" class="text-right">
                            {{row.bonusTuktukCommission | number:2}}
                        </td>
                        <td data-title="'Offer Earning'" class="text-right">
                            {{row.offerEarning | number:2}}
                        </td>
                        <td data-title="'Offer Tuktuk Commission'" class="text-right">
                            {{row.offerTuktukCommission | number:2}}
                        </td>
                        <td data-title="'tCash Earning'" class="text-right">
                            {{row.tcashEarning | number:2}}
                        </td>

                        <td data-title="'Trip Settled Amount'" class="text-right">
                            {{row.tripSettledAmount | number:2}}
                        </td>
                        <td data-title="'Balance'" class="text-right">
                            {{row.balance | number:2}}
                        </td>
                        <td data-title="'Opening Balance'" class="text-right">
                            {{row.openingBalance | number:2}}
                        </td>
                        <td data-title="'Closing Balance'" class="text-right">
                            {{row.closingBalance | number:2}}
                        </td>

                        <td data-title="'Paid Amount'" class="text-center" ng-if="row.draft">
                            {{row.paidAmount | number:2}}
                        </td>
                        <td data-title="'Paid Amount'" class="text-center" ng-if="!row.draft">
                            <input class="form-control" type="number" name="inputPaid" ng-value="row.closingBalance"
                                   style="min-width: 100px"  ng-model="row.closingBalance">
                        </td>
                        <td data-title="'Paid On'" class="text-left">
                            <span ng-if="row.paidOn">{{(row.paidOn)*1000 | date:"dd-MM-yy h:mma"}}</span>
                        </td>
                        <td data-title="'Updated On'" class="text-left">
                            {{(row.updatedOn)*1000 | date:"dd-MM-yy h:mma"}}
                        </td>
                        <td data-title="'Updated By'" class="text-left">
                            {{row.updatedBy}}
                        </td>
                        <!--<td data-title="'Status'" class="text-center">-->
                            <!--{{row.draft}} {{!amountPaid}}-->
                        <!--</td>-->
                        <td data-title="'Action'" class="text-right" style="min-width: 90px !important;">
                            <input ng-if="row.draft" type="checkbox" ng-model="drID.checked" ng-click="checkedForPub(row.driver)" ng-checked="vm.setCheck">
                            <a href="" data-toggle="tooltip"
                               tooltip="Pay"
                               tooltip-placement="top" ng-if="!row.draft && !row.paidStatus" class="btn btn-success btn-xs"
                               ng-click="confirmPaid($index);" style="padding:1px 8px;">
                                <i class="fa fa-inr" aria-hidden="true"></i>
                            </a>
                            <a href="" data-toggle="tooltip"
                               tooltip="Publish"
                               tooltip-placement="top" ng-if="row.draft" class="btn btn-warning btn-xs"
                               ng-click="confirmPublish($index);">
                                <i class="fa fa-share" aria-hidden="true"></i>
                            </a>
                            <a href="" data-toggle="tooltip"
                               tooltip="View"
                               tooltip-placement="top" class="btn btn-default btn-xs"
                               ng-click="vm.viewDaywiseListData($index);">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="payout-daywise-div" ng-if="dayWiseList">
            <span ng-click="vm.hideDayWiseList();" class="close-payout-daywise-div pull-right"><i
                    class="fa fa-remove"></i></span>

            <div class="row" style="padding:5% 10%;">
                <div class="col-md-2 col-sm-12 col-xs-12"></div>
                <div class="col-md-8 col-sm-12 col-xs-12">
                    <div class="table-responsive" style="background: #fff;">
                        <table class="table table-bordered table-striped text-center">
                            <thead>
                            <tr>
                                <th class="text-center" colspan="2" width="100">Date</th>
                                <th class="text-center" width="100">Type</th>
                                <th class="text-center" width="100">Trip Count</th>
                                <th class="text-right" width="100">Earning</th>
                                <th class="text-right" width="100">Cash Collected</th>
                                <th class="text-right" width="100">Tuktuk Share</th>
                                <th class="text-right" width="100">Balance</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="row in dataDay.trip">
                                <td class="text-left" colspan="2" width="100">
                                    {{(row.date)*1000 | date:"dd-MM-yy h:mma"}}
                                </td>
                                <td class="text-left" style="padding: 0 !important;" colspan="6">
                                    <table class="table  table-striped text-center no-mr">
                                        <tr ng-repeat="row1 in row.values">
                                            <td class="text-center" width="100">
                                                {{row1.action}}
                                            </td>
                                            <td class="text-center" width="100">
                                                {{row1.tripCount}}
                                            </td>
                                            <td class="text-right" width="100">
                                                {{row1.earning | number:2}}
                                            </td>
                                            <td class="text-right" width="100">
                                                {{row1.cashCollected | number:2}}
                                            </td>
                                            <td class="text-right" width="100">
                                                {{row1.commission | number:2}}
                                            </td>
                                            <td class="text-right" width="100">
                                                {{row1.balance | number:2}}
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="8" style="padding: 0">
                                    <table class="table  table-striped text-center no-mr">
                                        <tr>
                                            <td class="text-center" colspan="2" width="100"></td>
                                            <td class="text-left" width="100">
                                                <b>EMI</b>
                                            </td>
                                            <td class="text-center" width="100">

                                            </td>
                                            <td class="text-right" width="100">

                                            </td>
                                            <td class="text-right" width="100">

                                            </td>
                                            <td class="text-right" width="100">
                                                <b> {{vm.emi | number:2}}</b>
                                            </td>
                                            <td class="text-right" width="100">
                                                <b> - {{vm.emi | number:2}}</b>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="text-center" colspan="2" width="100"></td>
                                            <td class="text-left" width="100">
                                                <b>Settled</b>
                                            </td>
                                            <td class="text-center" width="100">

                                            </td>
                                            <td class="text-right" width="100">

                                            </td>
                                            <td class="text-right" width="100">

                                            </td>
                                            <td class="text-right" width="100">
                                            </td>
                                            <td class="text-right" width="100">
                                                <b>{{vm.settled | number:2}}</b>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="8" style="padding: 0">
                                    <table class="table  table-striped text-center no-mr">
                                        <tr>
                                            <td class="text-center" colspan="2" width="100"></td>
                                            <td class="text-left" width="100">
                                                <b>Balance</b>
                                            </td>
                                            <td class="text-center" width="100">
                                                <b>{{vm.totalTripCount}}</b>
                                            </td>
                                            <td class="text-right" width="100">
                                                <b>{{vm.totalEarning | number:2}}</b>
                                            </td>
                                            <td class="text-right" width="100">
                                                <b>{{vm.cashCollection | number:2}}</b>
                                            </td>
                                            <td class="text-right" width="100">
                                                <b>{{vm.totalShare | number:2}}</b>
                                            </td>
                                            <td class="text-right" width="100">
                                                <b>{{vm.totalBalance | number:2}}</b>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="table-responsive" style="background: #fff;">
                        <table class="table table-bordered table-striped text-center">
                            <thead>
                            <tr>
                                <th class="text-center" colspan="2" width="100">Settlement {{dataSettledTrip.sc}}</th>
                                <th class="text-center" width="100">Trip ID</th>
                                <th class="text-center" width="100">Updated On</th>
                                <th class="text-right" width="100">Amount</th>
                                <th class="text-right" width="100">Reason</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="text-left" colspan="2" width="100">

                                </td>
                                <td class="text-left" style="padding: 0 !important;" colspan="6">
                                    <table class="table  table-striped text-center no-mr">
                                        <tr ng-repeat="row3 in dataSettledTrip.va">
                                            <td class="text-center" width="100">
                                                {{row3.tr}}
                                            </td>
                                            <td class="text-center" width="100">
                                                {{(row3.up)*1000 | date:"dd-MM-yy h:mma"}}
                                            </td>
                                            <td class="text-right" width="100">
                                                {{row3.am}}
                                            </td>
                                            <td class="text-right" width="100">
                                                {{row3.re}}
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="col-md-2 col-sm-12 col-xs-12"></div>
            </div>
        </div>
    </div>
</div>
