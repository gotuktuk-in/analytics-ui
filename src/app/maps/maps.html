<div class="content">





  <div class="content-div">

    <ng-map center="[22.717081666666665, 75.87155666666666]" style="height:100%" zoom="12">
      <map-data  load-geo-json={{vm.API_URL}}geofence>
      </map-data>
      <div>

        <marker ng-repeat="driver in vm.allDrivers.available.drivers track by $index"icon="{
        url:'assets/images/icons/marker-green.svg',
        scaledSize:[30,30],
        origin: [0,0],
        anchor: [15,15]
      }"
                id="custom-marker-{{$index}}"
                on-click="vm.map.showInfoWindow('iw-drivers', 'custom-marker-'+$index)"
                position="{{driver.marker}}">
        </marker>
      </div>
      <div>
        <marker ng-repeat="driver in vm.allDrivers.occupied.drivers track by $index" icon="{
        url:'assets/images/icons/marker-red.svg',
        scaledSize:[30,30],
        origin: [0,0],
        anchor: [15,15]
      }"
                id="custom-marker-{{$index}}"
                on-click="vm.showDetail(driver)"
                position="{{driver.marker}}">
        </marker>
      </div>

      <info-window id="iw-drivers">
          <div ng-non-bindable>
            <div class="info-window">
              <div class="iw-wrapper">
                <div class="iw-header">
                  <h3>{{vm.driver.profile.name}}</h3>
                  <img src="assets/images/rider.jpg" class="iw-driver">
                </div>
                <div class="iw-content">
                  <table class="table">
                    <tbody>
                    <tr>
                      <td><i class="fa fa-mobile-phone"></i> Phone#</td>
                      <td>{{vm.driver.profile.phone}}</td>
                    </tr>
                    <tr>
                      <td><i class="fa fa-taxi"></i> Vehicle#</td>
                      <td>{{vm.driver.profile.vehicle}}</td>
                    </tr>
                    <tr>
                      <td><i class="fa fa-user"></i> ID#</td>
                      <td>{{vm.driver.profile.driverId}}</td>
                    </tr>
                    <tr>
                      <td><i class="fa fa-map-marker"></i> Location <span>(12:00am)</span></td>
                      <td>Jhabua Tower, RNT Marg, Indore</td>
                    </tr>
                    <tr>
                      <td>&nbsp;</td>
                      <td align="right"><a href="#">More..</a> </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
      </info-window>


    </ng-map>
    <div class="tabs-view">
      <button ng-click="tabView = !tabView" ng-class="{'left-arrow' : tabView}" class="btn btn-default tabs-toggle-btn" title="Show More...">
        <i class="fa fa-angle-double-right"></i>
      </button>
      <div class="tabs-toggle" ng-class="{'tabs-show' : tabView}">
        <uib-tabset active="active">
          <uib-tab index="0" heading="Drivers">
            <div class="row">
              <div class="col-md-4">
                <div class="pentagon total">
                  <div class="text-center">
                    <h4>Total</h4>
                    <span>{{vm.allDrivers.total}}</span>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="pentagon occupied">
                  <div class="text-center">
                    <h4>Occupied</h4>
                    <span>{{vm.allDrivers.occupied.total}}</span>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="pentagon available">
                  <div class="text-center">
                    <h4>Available</h4>
                    <span>{{vm.allDrivers.available.total}}</span>
                  </div>
                </div>
              </div>
            </div>
          </uib-tab>
          <uib-tab index="1" heading="Trips">Static content</uib-tab>
        </uib-tabset>
      </div>
    </div>
  </div>
</div>

