<div class="container-fluid">
    <br>
    <br>
    <br>
    <br>
    <div class="row overview-box">
        <span class="reload" ng-click="vm.refreshPage()"><i class="fa fa-refresh" aria-hidden="true"></i>
</span>

        <div class="col-md-12 col-sm-12 col-xs-12 text-center">
            <div class="col-md-2 col-sm-12 col-xs-12 no-mr no-pd">
                <div class="box box-heading box-1 text-center">
                    <h4 class="title" style="margin-top:10px;">Trips</h4>
                </div>
            </div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="col-md-10 col-sm-12 col-xs-12">
                        <div class="col-md-3 col-sm-4 col-xs-12">
                            <div class="box">
                                <h4 class="number">{{selectedTrip.id}}</h4>
                                <span>id</span>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-4 col-xs-12">
                            <div class="box">
                                <h4 class="number">{{(selectedTrip.requestOn)*1000 | date:"MMM dd, yy 'at' h:mma"}}</h4>
                                <span>date</span>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-4 col-xs-12">
                            <div class="box">
                                <h4 class="number">{{getTimeDiff(selectedTrip.requestOn, selectedTrip.pickupOn ) |
                                    secondsToDateTime}} / {{getTimeDiff(selectedTrip.pickupOn ,selectedTrip.dropOn)|
                                    secondsToDateTime}}</h4>
                                <span>Time for Trip / in Trip</span>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-4 col-xs-12">
                            <div class="box">
                                <h4 class="number">{{(selectedTrip.disStartPickup/1000) | number:2}}km / {{(selectedTrip.disPickupDrop/1000) | number:2}}km</h4>
                                <span>Distance for Trip / in Trip</span>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-4 col-xs-12">
                            <div class="box">
                                <h4 class="number">Rs.{{selectedTrip.fareStartPickup}}</small></h4>
                                <span>Amount</span>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-4 col-xs-12">
                            <div class="box">
                                <h4 class="number">{{selectedTrip.pickupOn ? (selectedTrip.pickupOn *1000 | date:"h:mma ") : 'N/A'}} / {{selectedTrip.dropOn ? (selectedTrip.dropOn *1000| date:"h:mma ") : 'N/A'}}</h4>
                                <span>Start Time / End Time</span>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-4 col-xs-12">
                            <div class="box">
                                <h4 class="number">Rs.{{selectedTrip.amount.total}}<small> / {{selectedTrip.amount.cash}} / {{selectedTrip.amount.tcash}}</small></h4>
                                <span>Amount Total<small> / Cash / tCash</small></span>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-4 col-xs-12">
                            <div class="box">
                                <h4 class="number">{{selectedTrip.riderFeedbackRating | number:2}}</h4>
                                <span>Rider's Feedback</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading"><h4 class="panel-title">Map</h4></div>
                <div class="panel-body"
                     ng-if="selectedTrip.tripState!=70 && selectedTrip.tripState!=71 && selectedTrip.tripState!=81 && selectedTrip.tripState!=80 " style="padding:10px 15px;">
                    <h4>
                        <div style="background-color:#30b03a;min-height:12px;width:12px;border-radius:100%;display:inline-block;margin-right: 5px;"></div>
                        Pickup
                    </h4>
                    <p>{{selectedTrip.pickUp.line1 + ' ' + selectedTrip.pickUp.line2}}<br>{{selectedTrip.pickUp.state
                        + ' ' + selectedTrip.pickUp.country}}</p>

                    <h4>
                        <div style="background-color:#f32f00;display:inline-block;min-height:12px;width:12px;border-radius:100%;margin-right: 5px;"></div>
                        Drop
                    </h4>
                    <p> {{selectedTrip.drop.line1 + ' ' + selectedTrip.drop.line2}}<br>{{selectedTrip.drop.state
                        + ' ' + selectedTrip.drop.country}}</p>

                    <div class="tripMap">
                        <img ng-show="selectedTrip.tripState==TRIP.STATE_INVOICE" ng-src="{{MapURL}}"
                             title="" style="width:100%; height:auto;">

                    </div>
                </div>

                <div class="panel-body"
                     ng-if="selectedTrip.tripState==70 || selectedTrip.tripState==71 || selectedTrip.tripState==81 || selectedTrip.tripState==80 ">
                    <h4>
                        <div style="background-color:#30b03a;min-height:12px;width:12px;border-radius:100%;display:inline-block; margin-right: 5px;"></div>
                        Pickup
                    </h4>
                    <p>{{selectedTrip.locPickupReq.line1 + ' ' + selectedTrip.locPickupReq.line2}}<br>{{selectedTrip.locPickupReq.state
                        + ' ' + selectedTrip.locPickupReq.country}}</p>

                    <h4>
                        <div style="background-color:#f32f00;display:inline-block;min-height:12px;width:12px;border-radius:100%;margin-right: 5px;"></div>
                        Drop
                    </h4>
                    <p> {{selectedTrip.locDropReq.line1 + ' ' + selectedTrip.locDropReq.line2}}<br>{{selectedTrip.locDropReq.state
                        + ' ' + selectedTrip.locDropReq.country}}</p>

                    <div class="tripMap">
                        <img ng-show="selectedTrip.tripState==TRIP.STATE_INVOICE" ng-src="{{MapURL}}"
                             title="" style="width:100%; height:auto;">

                    </div>
                </div>

            </div>

        </div>
        <div class="col-md-4 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">Driver's Info</h4>
                </div>
                <div class="panel-body" style="padding:10px 15px;">
                    <table width="100%" class="table table-responsive table-bordered table-striped ">
                        <tr>
                            <td colspan="2">
                                <img ng-src="{{selectedTrip.driverInfo.profileImage ? selectedTrip.driverInfo.profileImage:'assets/images/default.png' }}"
                                     style="height:100px;">
                            </td>
                        </tr>
                        <tr>
                            <td>Name</td>
                            <td><label>{{selectedTrip.driverInfo.name}}</label></td>
                        </tr>

                        <tr>
                            <td>Vehicle Number</td>
                            <td><label>{{selectedTrip.driverInfo.vehicle}}</label></td>
                        </tr>
                        <tr>
                            <td>Phone Number</td>
                            <td><label>{{selectedTrip.driverInfo.phone}} </label></td>
                        </tr>
                        <tr>
                            <td>Current Status</td>
                            <td>
                                <div ng-if="selectedTrip.driverInfo.state == 10"><span
                                        class="text-danger">Offline</span></div>
                                <div ng-if="selectedTrip.driverInfo.state == 11"><span
                                        class="text-success">Online</span></div>
                                <div ng-if="selectedTrip.driverInfo.state == 22"><span
                                        class="text-danger">Unoccupied</span></div>
                                <div ng-if="selectedTrip.driverInfo.state == 30"><span
                                        class="text-info">Occupied</span></div>
                                <div ng-if="selectedTrip.driverInfo.state == 40"><span
                                        class="text-info">Occupied</span></div>
                                <div ng-if="selectedTrip.driverInfo.state == 50"><span
                                        class="text-info">Occupied</span></div>
                            </td>
                        </tr>
                        <tr>
                            <td>Total Rides</td>
                            <td> {{selectedTrip.driverInfo.ridesTotal}}</td>
                        </tr>
                        <tr>
                            <td>Today's Rides</td>
                            <td> {{selectedTrip.driverInfo.ridesToday}}</td>
                        </tr>
                        <tr>
                            <td>Today's Earnings</td>
                            <td>{{selectedTrip.driverInfo.fare}}</td>
                        </tr>
                        <tr>
                            <td>Overall Feedback</td>
                            <td>{{selectedTrip.driverInfo.avg | number:2}}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-md-4 col-sm-12 col-xs-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4 class="panel-title">Rider's Info</h4>
                </div>
                <div class="panel-body" style="padding:10px 15px;">
                    <table width="100%" class="table table-responsive table-bordered table-striped ">
                        <tr>
                            <td colspan="2">
                                <img ng-src="{{selectedTrip.riderInfo.profileImage ? selectedTrip.riderInfo.profileImage:'assets/images/default.png' }}"
                                     style="height:100px;">
                            </td>
                        </tr>
                        <tr>
                            <td>Name</td>
                            <td><label>{{selectedTrip.riderInfo.name}}</label></td>
                        </tr>

                        <tr>
                            <td>Phone Number</td>
                            <td><label>{{selectedTrip.riderInfo.phone}} </label></td>
                        </tr>
                        <tr>
                            <td>Email</td>
                            <td>{{selectedTrip.riderInfo.email}}</span></td>
                        </tr>
                        <tr>
                            <td>Gender</td>
                            <td> {{selectedTrip.riderInfo.gender}}</td>
                        </tr>
                        <tr>
                            <td>Age</td>
                            <td>{{selectedTrip.riderInfo.age}}</td>
                        </tr>
                        <tr>
                            <td>Total Rides</td>
                            <td>{{selectedTrip.riderInfo.ridesTotal}}</td>
                        </tr>
                        <tr>
                            <td>Today's Rides</td>
                            <td>{{selectedTrip.riderInfo.ridesToday}}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
