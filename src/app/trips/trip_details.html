<style>
    .close-card {
        position: relative;
    }
    .card-title {
        background: #fff
    }
</style>
<div class="content">
    <div class="row" style="z-index: 99; position: fixed; width: auto; padding: 20px 0; right: 20px">
        <div class="col-md-12 col-sm-12 col-xs-12" ng-if="showHide">
            <span><a href="" ng-click="vm.getBid();">Show Candidates</a></span>
        </div>
        <div class="col-md-12 col-sm-12 col-xs-12" ng-if="!showHide">
            <span><a href="" ng-click="vm.clearBid();">Clear Candidates</a></span>
        </div>
    </div>

    <div class="content-div">
        <ng-map id="driversMap" center="indore" style="width:100%; height:100%; position:fixed !important;">
            <!--<div>-->
            <!--<marker ng-repeat="data in data"></marker>-->
            <!--</div>-->
        </ng-map>

        <div class="card" ng-show="vm.editFareBox">
            <div class="card-block">
                <form class="form-inline">
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="col-md-12 col-sm-12 col-xs-12 text-right">
                            <span class="fa fa-remove" ng-click="vm.closeEditFareModal()"  style="padding: 10px 0px;"></span>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <h4 style="margin-bottom: 20px;">Driver Fare (Rs. {{selectedTrip.driverFare}})</h4>
                                <p class="help-block"></p>
                            </div>
                            <div class="form-group col-md-4 col-sm-4 col-xs-4">
                                <div class="input-group ">
                                    <select style="min-width: 80px" class="form-control" ng-change=""
                                            ng-model="vm.selectedFareType"
                                            ng-options="fareType.name for fareType  in  vm.fareTypeArr track by fareType.value">
                                    </select>
                                </div>
                            </div>
                            <div class="form-group col-md-8 col-sm-8 col-xs-8">
                                <div class="input-group " style="width: 100%;">
                                    <input class="form-control" type="text" placeholder="Fare" name="inputFare"
                                           ng-model="vm.inputFare">
                                </div>
                                <p class="help-block"></p>
                            </div>
                            <div class="form-group col-md-12 col-sm-12 col-xs-12">
                                <div class="input-group">
                                    <select class="form-control" ng-change=""
                                            ng-model="vm.selectedReason"
                                            ng-options="reason.name for reason  in  vm.reasonArr track by reason.value">
                                    </select>
                                </div>
                            </div>
                            <div class="form-group col-md-12 col-sm-12 col-xs-12" ng-if="vm.selectedReason.value==5">
                                <div class="input-group" style="width: 100%;">
                                    <div class="help-block text-center"> or</div>
                                    <textarea class="form-control" placeholder="Reason" name="inputReason"
                                              ng-model="vm.inputReason"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <hr>
                        </div>
                        <div class="col-md-12 col-sm-12 col-xs-12">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <h4 style="margin-bottom: 20px;">Rider Fare (Rs. {{selectedTrip.riderFare}})</h4>
                                <p class="help-block"></p>
                            </div>
                            <div class="form-group col-md-12 col-sm-12 col-xs-12">
                                <div class="input-group" style="width: 100%;">
                                    <input class="form-control" type="text" placeholder="Tcash" name="inputTcash"
                                           ng-model="vm.inputTcash">
                                </div>
                                <p class="help-block"><br></p>
                            </div>

                        <div class="col-md-6 col-sm-6 col-xs-6">
                            <button type="button" class="btn btn-primary" ng-click="vm.editFare()">Update</button>
                        </div>
                        <div class="col-md-6 col-sm-6 col-xs-6 text-right" style="line-height: 30px">
                            <a class="text-right" href="javascript:void(0)" ng-click="vm.closeEditFareModal()">Cancel</a>
                        </div>
                        </div>
                    </div>
                </div>
                    </form>
            </div>
            <!--/.Card content-->

        </div>

        <div class="tabs-view tabs-view-2">
            <button ng-click="tabView = !tabView" ng-class="{'left-arrow' : tabView}"
                    class="btn btn-default tabs-toggle-btn map-btn " title="Show More...">
                <i class="fa fa-angle-double-right"></i>
            </button>

            <div class="tabs-toggle" ng-class="{'tabs-show' : tabView}">
                <uib-tabset active="active">
                    <uib-tab index="0" heading="Trip">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.id}}</h4>
                                        <span>id</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{(selectedTrip.requestOn)*1000 | date:"MMM dd, yyyy 'at'
                                            hh:mm"}}</h4>
                                        <span>date</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.startCode}}</h4>
                                        <span>Start Code</span>
                                    </div>
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12 col-xs-12 heading-box1">
                                            <h3>For Trip</h3>
                                            <hr>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">{{(selectedTrip.disForTrip/1000) | number:2}} KM</h4>
                                                <span>Distance</span>
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">{{(selectedTrip.durForTrip) | toMinSec}}</h4>
                                                <span>Duration</span>
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">{{selectedTrip.forTripspeed}}</h4>
                                                <span>Speed</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    &nbsp;
                                </div>
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12 col-xs-12 heading-box1">
                                            <h3>In Trip</h3>
                                            <hr>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">{{(selectedTrip.disInTrip/1000) | number:2}} KM</h4>
                                                <span>Distance</span>
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">{{(selectedTrip.durInTrip) | toMinSec}}</h4>
                                                <span>Duration</span>
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">{{selectedTrip.inTripSpeed}}</h4>
                                                <span>Speed </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    &nbsp;
                                </div>
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12 col-xs-12 heading-box1">
                                            <h3>Amount</h3>
                                            <hr>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">Rs. {{selectedTrip.driverFare}}</h4>
                                                <span>driver's Fare</span>
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">Rs. {{selectedTrip.riderFare}}</h4>
                                                <span>Rider's Fare</span>
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">Rs.
                                                    {{selectedTrip.tcashUsed}}
                                                </h4>
                                                <span>Amount <small>tCash</small></span>
                                                <!-- <span>Amount Total<small> / Cash / tCash</small></span> -->
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <div class="box">
                                                <h4 class="number">Rs.
                                                    {{selectedTrip.cashback}}
                                                </h4>
                                                <span>Cashback</span>
                                                <!-- <span>Amount Total<small> / Cash / tCash</small></span> -->
                                            </div>
                                        </div>
                                        <div class="col-md-4 col-sm-4 col-xs-12 pull-right"
                                             ng-click="tabView = !tabView">
                                            <div class="box">
                                                <h4 class="number">&nbsp;</h4>
                                                <a href="javascript:void(0);" ng-click="vm.openEditFareModal()">Edit Fare</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    &nbsp;<br> &nbsp;
                                    <hr style="margin:0">
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{(selectedTrip.waitingTime) | toMinSec}}</small></h4>
                                        <span>Waiting Time</span>
                                    </div>
                                </div>
                                <!-- <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{getTimeDiff(selectedTrip.requestOn,
                                            selectedTrip.pickupOn ) |
                                            secondsToDateTime}} / {{getTimeDiff(selectedTrip.pickupOn
                                            ,selectedTrip.dropOn)|
                                            secondsToDateTime}}</h4>
                                        <span>Time for Trip / in Trip</span>
                                    </div>
                                </div> -->
                                <!-- <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">&nbsp;</small></h4>
                                        <span>Time allocated</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.atPickupOn*1000 | date: "h:mma"}}</small></h4>
                                        <span>At Pickup</span>
                                    </div>
                                </div> -->
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.pickupOn ? (selectedTrip.pickupOn
                                            *1000 | date:"h:mma ") : 'N/A'}} / {{selectedTrip.dropOn ?
                                            (selectedTrip.dropOn *1000| date:"h:mma ") : 'N/A'}}
                                        </h4>
                                        <span>Start Time / End Time</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.riderFeedback | number:2}} /
                                            {{selectedTrip.driverFeedback | number:2}}
                                        </h4>
                                        <span>Rider's / driver's Feedback</span>
                                    </div>
                                </div>
                                <!--<div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.driverFeedback | number:2}}</h4>
                                        <span>driver's Feedback</span>
                                    </div>
                                </div>

                                 <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">Rs.{{selectedTrip.driverFare}}</small></h4>
                                        <span>Amount</span>
                                    </div>
                                </div> -->
                                <div class="col-md-8 col-sm-8 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.riSurge}} / {{selectedTrip.drSurge}}</h4>
                                        <span>Priority Pricing (rider/driver)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="0" heading="Driver" ng-if="selectedTrip.driverInfo.id">
                        <div class="row tripInfo-driver-tab">
                            <div class="col-md-2 col-sm-12 col-xs-12 no-mr no-pd">
                                <div class="box box-heading box-0 text-center"
                                     ng-class="{'box-online': selectedTrip.driverInfo.state== 22 || selectedTrip.driverInfo.state== 11, 'box-offline': selectedTrip.driverInfo.state== 10 } ">
                                    <img ng-src="https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?url={{selectedTrip.driverInfo.profileImage}}&container=focus&resize_w=75&resize_h=75&refresh=2592000"
                                         class="iw-driver" height="50">
                                    <!--  <h4 class="title" style="margin-top:10px;">{{selectedTrip.driverInfo.name}}</h4> -->
                                </div>
                            </div>
                            <div class="col-md-10 col-sm-12 col-xs-12">
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.driverInfo.id}}</h4>
                                        <span>id</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.driverInfo.name}}</h4>
                                        <span>Name</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.driverInfo.phone}}</h4>
                                        <span>phone</span>
                                    </div>
                                </div>
                                <div class="col-md-8 col-sm-12 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.driverInfo.email ?
                                            selectedTrip.driverInfo.email:'-'}}
                                        </h4>
                                        <span>Email</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-12 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.driverInfo.model.model}}</h4>
                                        <span>Device</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{(selectedTrip.driverInfo.joinedOn)*1000 | date:"MMM dd,
                                            yyyy"}} </h4>
                                        <span>joined On</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.driverInfo.rating | number:2}}</h4>
                                        <span>feedback</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.driverInfo.ridesTotal}}
                                        </h4>
                                        <span>Total Rides</span>
                                    </div>
                                </div>
                                <!-- <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.driverInfo.ridesToday}}
                                        </h4>
                                        <span>Today's Ride</span>
                                    </div>
                                </div> -->
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="0" heading="Rider">
                        <div class="row">
                            <!-- <div class="col-md-2 col-sm-12 col-xs-12 no-mr no-pd">
                                <div class="box box-heading box-0 text-center" ng-class="{'box-online': selectedTrip.riderInfo.state== 22 || selectedTrip.riderInfo.state== 11, 'box-offline': selectedTrip.riderInfo.state== 10 } ">
                                    <img ng-src="https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?url={{selectedTrip.riderInfo.profileImage}}&container=focus&resize_w=75&resize_h=75&refresh=2592000" class="iw-driver" height="50">
                                    <h4 class="title" style="margin-top:10px;">{{selectedTrip.riderInfo.name}}</h4>
                                </div>
                            </div> -->
                            <div class="col-md-10 col-sm-12 col-xs-12">
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.riderInfo.id}}</h4>
                                        <span>id</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.riderInfo.name}}</h4>
                                        <span>Name</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.riderInfo.phone}}</h4>
                                        <span>phone</span>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.riderInfo.email ?
                                            selectedTrip.riderInfo.email:'-'}}
                                        </h4>
                                        <span>Email</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">
                                            {{(selectedTrip.riderInfo.joinedOn)*1000 | date:"MMM dd, yyyy"}}
                                        </h4>
                                        <span>joined On</span>
                                    </div>
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12">
                                    <div class="box">
                                        <h4 class="number">{{selectedTrip.riderInfo.ridesTotal}}
                                        </h4>
                                        <span>Total Rides</span>
                                    </div>
                                </div>
                                <!-- <div class="col-md-4 col-sm-4 col-xs-12">
                                     <div class="box">
                                         <h4 class="number">{{selectedTrip.riderInfo.ridesToday}}
                                         </h4>
                                         <span>Today's Ride</span>
                                     </div>
                                 </div>
                                  <div class="col-md-3 col-sm-4 col-xs-12">
                                     <div class="box">
                                         <h4 class="number">{{selectedTrip.driverInfo.avg | number:2}}</h4>
                                         <span>feedback</span>
                                     </div>
                                 </div> -->
                            </div>
                        </div>
                    </uib-tab>
                </uib-tabset>
            </div>
        </div>
    </div>
</div>
<script type="text/ng-template" id="editFareModal.html">
    <div class="modal-header">
        <a class="pull-right cls-btn" href="javascript:void(0)" ng-click="cancel()">&#10005;
        </a>

        <h3 class="modal-title">Edit Fare</h3>
    </div>
    <div class="modal-body">
        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="col-md-12 col-sm-12 col-xs-12 heading-box1">
                <h3>Driver Fare ({{drFare}})</h3>
            </div>
            <div class="col-md-3 col-sm-3 col-xs-12">
                <div class="input-group">
                    <select class="form-control">
                        <option value="add">+</option>
                        <option value="substract">-</option>
                    </select>
                </div>
            </div>
            <div class="col-md-9 col-sm-9 col-xs-12">
                <div class="input-group">
                    <input class="form-control" type="text" placeholder="">
                </div>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="input-group">
                    <!--<select class="form-control" ng-model="reason">-->
                    <!--<option value="Extra Luggage">Extra Luggage</option>-->
                    <!--<option value="Extra Passenger">Extra Passenger</option>-->
                    <!--<option value="No change with the driver">No change with the driver</option>-->
                    <!--<option value="Miscommunication between driver and rider">Miscommunication between driver and rider</option>-->
                    <!--<option value="Misunderstood the bill">Misunderstood the bill</option>-->
                    <!--<option value="Others">Others</option>-->
                    <!--</select>-->
                    <select ng-change=""
                            ng-model="vm.selectedReason"
                            ng-options="reason.name for reason  in  vm.reasonArr track by reason.value">
                    </select>
                </div>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="input-group">{{reason}}
                    <div class="help-block text-center"> or</div>
                    <textarea class="form-control" placeholder="Reason"></textarea>
                </div>
            </div>
        </div>
        <div class="col-xs-10 col-xs-offset-1">
            <hr>
        </div>
        <div class="col-xs-8 col-xs-offset-2">
            <div class="col-md-12 col-sm-12 col-xs-12 heading-box1">
                <h3>Rider Fare ({{rdFare}})</h3>
            </div>
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="input-group">
                    <input class="form-control" type="text" placeholder="Tcash">
                </div>
            </div>
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="modal-footer">
        <a class="pull-right cancel-farechanges-btn" href="javascript:void(0)" ng-click="cancel()">Cancel</a>
        <button type="button" class="btn btn-primary save-farechanges-btn" ng-click="ok()">Save</button>
        <div class="clearfix"></div>
    </div>
</script>